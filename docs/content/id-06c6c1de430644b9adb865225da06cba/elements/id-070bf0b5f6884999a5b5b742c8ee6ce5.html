<!DOCTYPE html>
<html class="frame" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>Verdieping: eventoriÃ«ntatie</title>

	<!-- JQUERY -->
	<script type="text/javascript" src="../../lib/jquery/jquery.min.js"></script>
	<!-- BOOTSTRAP -->
	<link type="text/css" rel="stylesheet" href="../../lib/bootstrap/css/bootstrap.min.yeti.css">
	<script type="text/javascript" src="../../lib/bootstrap/js/bootstrap-3.3.2.min.js"></script>
	<!-- REPORT SPECIFIC -->
	<link type="text/css" rel="stylesheet" href="../../css/model.css">
	<link type="text/css" rel="stylesheet" href="../../css/i18n.css">
	<script type="text/javascript" src="../../js/frame.js"></script>
	<script type="text/javascript" src="../../js/imageMapResizer.min.js"></script>
</head>

<body>
	<div class="panel panel-default root-panel">

		<div class="panel-heading root-panel-heading">
            <!-- Name -->
               <b>Verdieping: eventori&#235;ntatie</b>

            <!-- If a View with Viewpoint -->
			   (<span class="i18n-elementtype-Representation"></span>)
			   <a class="glyphicon glyphicon-info-sign" id="hint-Representation" target="hint"></a>
		</div>

		<div class="panel-body root-panel-body">
		    <!-- If this is a digram model (has children and no bounds) show the image -->

			<div role="tabpanel">
				<!-- Nav tabs -->
				<ul class="nav nav-tabs" role="tablist">
                    <!-- Purpose / Documentation / Content -->
					   <li role="presentation" class="active"><a href="#documentation" aria-controls="documentation" role="tab" data-toggle="tab" class="i18n-documentation"></a></li>

                    <!-- Properties -->
                    <li role="presentation"><a href="#properties" aria-controls="properties" role="tab" data-toggle="tab" class="i18n-properties"></a></li>

                    <!-- Analysis -->
                    	<li role="presentation"><a href="#analysis" aria-controls="analysis" role="tab" data-toggle="tab" class="i18n-analysis"></a></li>

				</ul>

				<!-- Tab panes -->
				<div class="tab-content">
					<div role="tabpanel" class="tab-pane active" id="documentation">
							<br>
							<b class="i18n-specialization"></b>
								Tekst
						<div class="convertlinks documentation" style="white-space:pre-wrap">&lt;p&gt;Dit hoofdstuk beschrijft architectuuraspecten die van belang zijn bij eventori&#235;ntatie. Het start met een inleiding op het onderwerp en gaat vervolgens dieper in op de relevante standaarden.&lt;/p&gt;
&lt;h3&gt;Terminologie&lt;/h3&gt;
&lt;p&gt;Als we spreken over eventori&#235;ntatie, refereren we in meer algemene zin naar een gebeurtenisgedreven werkwijze. Daarbij notificeren aanbieders afnemers en verstrekken ze daarbij gegevens over plaatsgevonden gebeurtenissen. Voorafgaand daaraan abonneren afnemers zich door aan te geven voor welke typen gebeurtenissen zij genotificeerd willen worden. De plaatsgevonden gebeurtenissen zijn de trigger om gegevens uit te wisselen. Het initiatief daarvoor ligt bij de aanbieder die gegevens verstrekt over binnen zijn domein plaatsgevonden gebeurtenissen (&#8220;don&#8217;t call us, we&#8217;ll call you&#8221;). Deze manier van gegevens uitwisselen is fundamenteel anders dan wanneer een aanbieder een service aanbiedt en afnemers zelf het initiatief nemen om gegevens op te gaan halen. . Beide vormen van gegevensuitwisseling hebben bestaansrecht, maar kennen een specifiek toepassing en kunnen ook in combinatie worden gebruikt. Gebruikers van smartphones vinden het vanzelfsprekend dat zij kunnen aangeven voor welke type gebeurtenissen zij notificaties willen ontvangen.
&lt;/p&gt;&lt;p&gt;
Eventori&#235;ntatie is belangrijk om snel te kunnen reageren op gebeurtenissen in processen. Dat kunnen levensgebeurtenissen zijn; belangrijke gebeurtenissen in het leven van een burger. Het kunnen ook gebeurtenissen zijn die te maken hebben met wijzigingen in gegevens, waarin anderen ge&#239;nteresseerd zijn. Organisaties willen snel genotificeerd worden als er (mogelijk) relevante wijzigingen in brongegevens hebben plaatsgevonden, zodat ze beschikken over actuele gegevens. Dat kan bijvoorbeeld zo zijn als een eerder opgevraagd gegeven foutief was en is gecorrigeerd of als de status van een gegeven is gewijzigd na het moment van afnemen. Eventori&#235;ntatie kan ook dataminimalisatie ondersteunen, door het notificeren over gegevenswijzigingen los te zien van het ophalen van de specifieke (persoons)gegevens die relevant zijn in een specifiek proces.
&lt;/p&gt;&lt;p&gt;
Een veelgebuikt patroon bij eventori&#235;ntatie is &#8220;publish-subscribe&#8221;. Daarbij produceren applicaties (producers) berichten over plaatsgevonden gebeurtenissen (events). Afnemende applicaties (consumers) nemen een abonnement (subscription) op bepaalde soorten berichten. Makelaars (intermediairy&#8217;s) kunnen bemiddelen tussen producers en consumers om gepubliceerde events aan de juiste consumers te verstrekken. Consumers ontvangen de soorten events waarop ze zijn geabonneerd. Onderstaande figuur geeft de beschreven rolverdeling weer.&lt;/p&gt;
 &lt;p&gt;&lt;img src="https://minbzk.github.io/gdi-gegevensuitwisseling/images/cloudevents.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Applicaties kunnen eigendom zijn van &#233;&#233;n of meerdere organisaties en kunnen (in verschillende samenstellingen) ook gecombineerd zijn. Bij een uitwisseling kunnen &#233;&#233;n of meerdere intermediairs een rol spelen. De afspraken tussen betrokken partijen over de gegevensuitwisseling zijn sterk vergelijkbaar met de algemeen geldende afspraken bij gegevensuitwisseling. &lt;/p&gt;
&lt;h3&gt;Applicatie-architectuur&lt;/h3&gt;
&lt;p&gt;De functionaliteit voor abonneren wordt op dit moment veelal geboden via interactieve schermen. Daarop kan een gebruiker aangeven welke soorten events hij wel en niet willen ontvangen. Het kan gaan om eenvoudige invulschermen of om schermen waarmee een gebruiker zelf complexe selectieregels kan defini&#235;ren. Soms wordt aanvullend de mogelijkheid geboden om periodiek geautomatiseerd bepaalde filter-gegevens aan te leveren. Bijvoorbeeld in de vorm van een periodiek aangeleverd bestand of via een API waarmee een afnemer gegevens aanlevert die worden gebruikt om events te filteren. Een voorbeeld hiervan is een verzameling BSN&#8217;s van personen waarvoor events moeten worden verstrekt.
&lt;/p&gt;&lt;p&gt;
Het is ook mogelijk om abonnementen geautomatiseerd via API&#8217;s vast te leggen, te wijzigen of verwijderen. Dit biedt nieuwe mogelijkheden, zoals het afsluiten van (heel) veel kleine abonnementen waarin in detail is beschreven in welke events een afnemer is ge&#239;nteresseerd. Bijvoorbeeld door per persoon waarvoor genotificeerd moeten worden een eigen abonnement af te sluiten. 
&lt;/p&gt;&lt;p&gt;
Abonneren krijgt nu beperkt aandacht omdat de noodzaak van standaardisatie nu minder groot is en omdat gestandaardiseerd geautomatiseerd abonneren zeer complex is. De belangrijkste reden hiervoor is dat voor een standaard veel soorten metagegevens nodig zijn om in alle situaties bruikbaar te zijn, waardoor de standaard snel (te) complex wordt. Het zelf ontwikkelen van een abonneerstandaard is niet wenselijk, maar het is wel wenselijk om internationale ontwikkelingen op dit vlak te volgen en te zijner tijd daarop aan te sluiten.
&lt;/p&gt;&lt;p&gt;
Notificeren gaat over het verzenden van events. Een event is een data record dat een plaatsgevonden gebeurtenis beschrijft. Het bevat metagegevens over context voor bijvoorbeeld het kunnen routeren van het event van producers naar consumers en het bevat inhoudelijke informatie over de plaatsgevonden gebeurtenis of een verwijzing naar waar die is te vinden. Events worden getransporteerd via, gestructureerde of binaire, berichten. Voor een event wordt gebruik gemaakt van een bepaald formaat (bijv. JSON of XML) en transportprotocol (bijv. HTTP of AMQP). Bij notificeren gaat het in het algemeen over gebeurtenissen die hebben plaatsgevonden (&#8216;feiten&#8217;), niet over gebeurtenissen in de toekomst.
&lt;/p&gt;&lt;p&gt;
Voor notificeren zijn een aantal functionaliteiten relevant: routeren, filteren en verstrekken. Routeren is het fysiek transporteren van events zodat ze vanuit producers bij consumers terecht komen. Filteren is het binnen alle gepubliceerde event per consumer selecteren van de juiste events. Verstrekken is het beschikbaar stellen van events aan consumers via een bezorg- of ophaalmechanisme. Het initiatief voor verstrekking kan liggen bij een intermediary of een consumer.
&lt;/p&gt;&lt;p&gt;
Bij notificeren kan de communicatie tussen applicaties synchroon of asynchroon verlopen. Bij Asynchrone communicatie wacht de verzender niet op een antwoord van de ontvanger. Asynchrone communicatie biedt voordelen qua schaalbaarheid, flexibiliteit, foutbestendigheid en effici&#235;ntie bij notificeren. Een notificatie die niet kan worden verstrekt omdat een consumer niet actief is kan dan bijvoorbeeld door een intermediair worden bewaard en op een later moment als de consumer actief is alsnog worden verstrekt. Bij gebeurtenisgedreven werken, inclusief notifi&#235;ren, verdient asynchrone communicatie daarom de voorkeur. &lt;/p&gt;
&lt;h3&gt;Standaarden&lt;/h3&gt;
&lt;p&gt;Van 2021 tot 2023 is in opdracht van het Ministerie van Binnenlandse Zaken het &lt;a href="https://github.com/VNG-Realisatie/notificatieservices/tree/main/docs/achtergronddocumentatie"&gt;project &#8216;Notificatieservices&#8217;&lt;/a&gt; uitgevoerd. Een van de doelen daarvan was om een advies te geven over een standaard voor notificeren. Er is besloten om daarvoor voort te bouwen op de internationale standaard &lt;a href="https://cloudevents.io/"&gt;CloudEvents&lt;/a&gt;. Deze standaard is gekozen omdat deze het beste aansluit bij de aanwezige behoeften en mogelijkheden van Nederlandse overheidsorganisaties. De &lt;a href="https://semiceu.github.io/LinkedDataEventStreams/"&gt;Linked Data Event Streams&lt;/a&gt; standaard was nog in ontwikkeling en op dat moment (nog) te weinig toepasbaar. De standaard is wel in combinatie met de CloudEvents standaard te gebruiken. CloudEvents wordt vanaf 2018 ontwikkeld binnen de Cloud Native Computing Foundation (CNCF) via een community met onder andere Cloud leveranciers zoals Microsoft, Google en Amazon. Tijdens het project Notificatieservices is door onderzoeksbureau Gartner bevestigd dat de CloudEvents-standaard voldoende toekomst vast was om als basis te gebruiken. 
&lt;/p&gt;&lt;p&gt;
&lt;a href="https://www.asyncapi.com/"&gt;AsyncAPI&lt;/a&gt; is de de facto standaard voor het defini&#235;ren van asynchroon werkende API&#8217;s en wordt vaak vergeleken met OpenAPI specification. Met behulp van AsyncAPI zijn onder andere het formaat van berichten, de uit te voeren operaties en te gebruiken protocollen gestandaardiseerd te beschrijven. Dit bevordert de kwaliteit van documenteren, ontwerpen, testen en gebruiken van asynchroon werkende API&#8217;s. AsyncAPI is onderdeel van de Linux Foundation en wordt actief onderhouden door een open-sourcegemeenschap. De standaard kent een groeiend ecosysteem van tools en bibliotheken die AsyncAPI-specificaties kunnen verwerken, zoals codegeneratoren, validatietools, integraties met API-gateways en meer. AsyncAPI is te combineren met CloudEvents. CloudEvents helpt bij het defini&#235;ren van het formaat van de gebeurtenissen en AsyncAPI helpt bij het defini&#235;ren van de gebeurtenisgestuurde API's. AsyncAPI kan worden gebruikt om de API en het bijbehorende CloudEvent-formaat te documenteren.
&lt;/p&gt;&lt;p&gt;
Naarmate er meer eventgeori&#235;nteerd wordt gewerkt wordt het steeds belangrijker om daarbij betrokken metadata gestandaardiseerd vast te leggen en raadplegen. Om events goed te kunnen verwerken moet bekend zijn om wat voor soort event het gaat en wat de precieze betekenis daarvan is. Hiervoor kan gebruik worden gemaakt van catalogi met de beschrijving van event-types en hun relaties. Het is wenselijk dat dit type documentatie wordt gestandaardiseerd omdat consumers met steeds meer producers en soorten events te maken krijgen. 
&lt;h3&gt;De CloudEvents standaard in meer detail&lt;/h3&gt;
&lt;p&gt;
Omdat er in een eerder onderzoek vooral is gekozen voor het gebruik van de CloudEvents standaard, wordt deze hier in meer detail uitgelegd. CloudEvents kent een compacte &#8216;core specificatie&#8217; voor gestandaardiseerde beschrijving van events. Aanvullend zijn er specificaties voor gebruik van de core specificatie met specifieke gegevensformaten (bijvoorbeeld JSON en XML) en transport protocollen (bijvoorbeeld HTTP en AMQP). Standaardisatie strekt zich daarmee uit tot en met implementatieaspecten. Er zijn door de community ondersteunende producten ontwikkeld, zoals System Development Kits (SDK) voor veelgebruikte programmeertalen.
&lt;/p&gt;&lt;p&gt;
Er is een Nederlands profiel op de CloudEvents standaard ontwikkeld: &lt;a href=&#8221;https://www.logius.nl/domeinen/gegevensuitwisseling/nl-gov-profile-cloudevents&#8221;&gt;NL GOV profile for CloudEvents&lt;/a&gt;. Het bevat een set afspraken over het gebruik van de internationale CloudEvents standaard binnen de Nederlandse overheid. Het beschrijft bijvoorbeeld welke (aanvullende) afspraken gelden met betrekking tot het gebruik van bepaalde attributen. Naast het profiel zelf is er een document &lt;a href=&#8221;https://gitdocumentatie.logius.nl/publicatie/notificatieservices/guidelines/&#8221;&gt;Guidelines for NL-GOV profile CloudEvents&lt;/a&gt; dat gebruik van de standaard beschrijft bij gebruik van respectievelijk HTTP, JSON, webhooks. Het profiel en de handreiking zijn in beheer bij Logius. Het is de bedoeling dat het profiel op afzienbare termijn wordt opgenomen in de lijst van open standaarden van het Forum voor Standaardisatie.
&lt;/p&gt;&lt;p&gt;
Het centrale begrip in de CloudEvents standaard is &#8216;event&#8217;: een data record met metadata. Het bevat contextattributen om te kunnen notificeren en inhoudelijke gegevens over een plaatsgevonden gebeurtenis (of een verwijzing daarnaar). Een viertal metagegevens moeten volgend de CloudEvents specificatie, en het daarop gebaseerde NL GOV Profile for CloudEvents, altijd aanwezig zijn binnen een event:
&lt;ul&gt;
&lt;li&gt;Een unieke identificatie voor het event (&#8216;id&#8217;)&lt;/li&gt;
&lt;li&gt;De bron van het event (&#8216;source&#8217;)&lt;/li&gt;
&lt;li&gt;De versie van de gebruikte CloudEvents-specificatie (&#8216;specversion&#8217;)&lt;/li&gt;
&lt;li&gt;Het eventtype (&#8216;type&#8217;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
Het GOV NL profile for CloudEvents bevat afspraken over hoe deze attributen binnen de overheid moeten worden gebruikt. In een event kunnen ook aanvullende metagegevens worden opgenomen. CloudEvents heeft een aantal vaak voorkomende metadata gedefinieerd, maar ze zijn ook zelf te defini&#235;ren. Dit kan bijvoorbeeld op sector- of domeinniveau gebeuren.
&lt;/p&gt;&lt;p&gt;
Ook bij gebruik van het NL GOV Profile for CloudEvents is er ruimte voor betrokken organisaties om eigen keuzes te maken. Bijvoorbeeld wat betreft in events op te nemen metadata, het wel of niet opnemen van inhoudelijke data in berichten en gebruikte gegevensformaten, transportprotocollen en technische infrastructuur. Gegevens in een subscription kunnen zowel handmatig als geautomatiseerd worden bijgewerkt. Een samengestelde applicatie kan applicatiecomponenten combineren. Het initiatief voor verstrekking kan liggen bij intermediary of consumer.
&lt;/p&gt;
</div>
					</div>
					<div role="tabpanel" class="tab-pane" id="properties">
						<table class="table table-striped table-hover table-condensed">
							<thead>
								<tr>
									<th class="i18n-key"></th>
									<th class="i18n-value"></th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
					<div role="tabpanel" class="tab-pane" id="analysis">
						<table class="table table-striped table-hover table-condensed" id="used-in-views">
							<thead>
								<tr><th colspan="2" class="i18n-used-in-views" /></tr>
								<tr>
									<th class="i18n-name"></th>
									<th class="i18n-viewpoint"></th>
								</tr>
							</thead>
							<tbody>
								<tr id="used-in-views-id-8221d3cd685c4027b81176fa7f15153f">
																	<td><a href="../views/id-8221d3cd685c4027b81176fa7f15153f.html" target="view" title="Documentstructuur"> Documentstructuur </a></td>
																	<td><span class="i18n-viewpoint-" /></td>
																</tr>
							</tbody>
						</table>
						<table class="table table-striped table-hover table-condensed" id="model-relations">
							<thead>
								<tr><th colspan="4" class="i18n-model-relations" /></tr>
								<tr>
									<th class="i18n-name"></th>
									<th class="i18n-type"></th>
									<th class="i18n-source"></th>
									<th class="i18n-target"></th>
								</tr>
							</thead>
							<tbody>
									<tr>
											<td><a href="../elements/id-2996119a124c404f95d01c4567d371f5.html" target="element" title="3.6">3.6</a></td>
											<td><span class="i18n-elementtype-AssociationRelationship" /></td>
											<td><a href="../elements/id-f7cd0effef5643879ed04ee81f4d9bfb.html" target="element"> Domeinarchitectuur gegevensuitwisseling</a></td>
											<td><a href="../elements/id-070bf0b5f6884999a5b5b742c8ee6ce5.html" target="element"> Verdieping: eventori&#235;ntatie</a></td>
										</tr>
							</tbody>
						</table>
					</div>
			  </div>
			</div>
		</div>
	</div>
	<script type="text/javascript">imageMapResize();</script>
</body>
</html>